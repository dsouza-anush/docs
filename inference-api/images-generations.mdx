---
title: "Managed Inference and Agents API /v1/images/generations"
description: "The /v1/images/generations endpoint generates images based on a descriptive text prompt. You can control the aspect ratio, image format, and even prov..."
---

## Request Body Parameters

Use parameters to control details, such as the size and format of images you generate.

### Required Parameters

| model 
| string 
| ID of the image generation model to use 
| `"stable-image-ultra"` 

| prompt 
| string 
| text prompt describing the image to generate (max length of 10,000 characters) 
| `"A beautiful sunset over the mountains."` 

### Optional Parameters

| aspect_ratio 
| enum 
| controls the aspect ratio of the generated imageone of:`"16:9"`, `"1:1"`, `"21:9"`, `"2:3"`, `"3:2"`, `"4:5"`, `"5:4"`, `"9:16"`, or `"9:21"` 
| `"1:1"` 
| `"16:9"` 

| negative_prompt 
| string 
| keywords or phrases to avoid in the image (for example, `"crowded"` will help prevent a crowded scene)max length:10,000 characters 
| `""` 
| `"crowded"` 

| output_format 
| enum 
| format of the output imageone of:`"jpeg"` or `"png"` 
| `"png"` 
| `"jpeg"` 

| size 
| enum 
| size, in pixels, of the output imageone of: `"1344x768"`, `"1024x1024"`, `"1536x640"`, `"832x1216"`, `"1216x832"`, `"896x1088"`, `"1088x896"`, `"768x1344"`, `"640x1536"` 
| `"1024x1024"` 
| `"640x1536"` 

| seed 
| number 
| a starting value used as a base to generate the image from (if all parameters remain the same, images generated with the same seed will be identical, while images generated with different seeds will be similar, but not identical)range: `0`(random) to `4294967295` 
| `0` 
| `123` 

| allow_ignored_params 
| boolean 
| ignore unsupported parameters in request instead of throwing an error 
| `false` 
| `true` 

## Request Headers

In the following example, we assume your model resource has an alias of `"DIFFUSION"` (meaning you created the model resource with an `--as DIFFUSION` flag).

| `Authorization` 
| string 
| your AI add-on’s ‘DIFFUSION’ value (API bearer token) 

All inference `curl` requests must include an `Authorization` header containing your Heroku Inference key for the specified model.

## Response Format

When a request is successful, the API returns a JSON object with the following structure:

| created 
| integer 
| unix timestamp of when image was created 

| data 
| array of objects 
| list of generated images (always length of 1) 

### Data Object

Each object inside the `data` array includes:

| b64_json 
| string 
| (optional) generated image, encoded in `base64` 

| revised_prompt 
| string 
| included for compatibility with OpenAI-style responsesalways: `""` 

## Example Request

Let’s walk through an example `/v1/images/generations` `curl` request.

First, use this command to set your Heroku environment variables as local variables.

```bash
eval $(heroku config -a $APP_NAME --shell | grep '^DIFFUSION_' | sed 's/^/export /' | tee >(cat >&2))
```

Next, send the `curl` request:

```bash
curl $DIFFUSION_URL/v1/images/generations \
 -H "Authorization: Bearer $DIFFUSION_KEY" \
 -d @-
